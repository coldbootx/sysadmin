function delete_user {
  print -n "Enter username to delete: "
  read -r username
  if validate_username "$username"; then
    if ! id "$username" > /dev/null 2>&1; then
      print_msg warn "User '$username' does not exist."
    elif confirm; then
      if userdel -r "$username"; then
        print_msg success "User '$username' deleted successfully."
        log_action "Deleted user '$username'"
      else
        print_msg error "Failed to delete user '$username'."
      fi
    fi
  fi
}